<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free sports nutrition calculator. Get custom scoop combinations for cycling, running, or golf based on weather and intensity.">
    <title>FuelCraft Scoop Recipe Builder</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: #4CAF50;
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2em;
        }
        
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .question-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }
        
        .question-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question {
            font-size: 1.3em;
            color: #2c3e50;
            margin-bottom: 25px;
            font-weight: bold;
        }
        
        .options {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }
        
        .option:hover {
            border-color: #4CAF50;
            background: #e8f5e8;
            transform: translateY(-2px);
        }
        
        .option.selected {
            background: #4CAF50;
            border-color: #45a049;
            color: white;
        }
        
        .option-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 5px;
        }
        
        .option-desc {
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        .nav-buttons {
            display: flex;
            gap: 15px;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-back {
            background: #6c757d;
            color: white;
        }
        
        .btn-back:hover {
            background: #5a6268;
        }
        
        .btn-next {
            background: #4CAF50;
            color: white;
        }
        
        .btn-next:hover {
            background: #45a049;
        }
        
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .recipe-result {
            background: #e8f5e8;
            border: 2px solid #4CAF50;
            border-radius: 15px;
            padding: 30px;
            margin-top: 20px;
        }
        
        .recipe-title {
            color: #4CAF50;
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .scoop-combo-large {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .scoop-group-large {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .scoop-count-large {
            font-size: 3em;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .scoop-icon-large {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
            margin-bottom: 5px;
        }
        
        .scoop-label {
            font-size: 0.9em;
            color: #666;
            text-align: center;
        }
        
        .yellow { background: #FFA726; }
        .blue { background: #42A5F5; }
        .green { background: #66BB6A; }
        .purple { background: #AB47BC; }
        .orange { background: #FF7043; }
        
        .recipe-instructions {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .recipe-instructions h4 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .recipe-instructions ol {
            margin: 0;
            padding-left: 20px;
        }
        
        .recipe-instructions li {
            margin-bottom: 8px;
            font-size: 0.95em;
        }
        
        .recipe-notes {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }
        
        .recipe-notes h4 {
            color: #856404;
            margin-bottom: 8px;
        }
        
        .recipe-notes p {
            color: #856404;
            margin: 0;
            font-size: 0.9em;
        }
        
        .start-over {
            text-align: center;
            margin-top: 25px;
        }
        
        .btn-start-over {
            background: #2196F3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .btn-start-over:hover {
            background: #1976D2;
        }
        
        .progress-bar {
            height: 4px;
            background: #e9ecef;
            margin-bottom: 30px;
        }
        
        .progress-fill {
            height: 100%;
            background: #4CAF50;
            transition: width 0.3s ease;
        }
        
        .recipe-stats {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
            border: 2px solid #e9ecef;
        }
        
        .recipe-stats strong {
            color: #2c3e50;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü•§ Scoop Recipe Builder</h1>
            <p>Answer 3 questions to get your perfect scoop combination</p>
        </div>
        
        <div class="content">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            
            <!-- Question 1: Weather -->
            <div class="question-section active" id="question-1">
                <div class="question">What's the weather like today?</div>
                <div class="options">
                    <div class="option" data-value="hot">
                        <div class="option-title">üå°Ô∏è Hot (75¬∞F+)</div>
                        <div class="option-desc">You'll sweat more and need extra electrolytes</div>
                    </div>
                    <div class="option" data-value="moderate">
                        <div class="option-title">üå§Ô∏è Moderate (60-75¬∞F)</div>
                        <div class="option-desc">Perfect conditions for our base recipe</div>
                    </div>
                    <div class="option" data-value="cool">
                        <div class="option-title">‚ùÑÔ∏è Cool (Below 60¬∞F)</div>
                        <div class="option-desc">Your gut can handle stronger concentrations</div>
                    </div>
                </div>
                <div class="nav-buttons">
                    <div></div>
                    <button class="btn btn-next" onclick="nextQuestion()" disabled>Next ‚Üí</button>
                </div>
            </div>
            
            <!-- Question 2: Duration & Intensity -->
            <div class="question-section" id="question-2">
                <div class="question">What kind of activity are you planning?</div>
                <div class="options">
                    <div class="option" data-value="easy-short">
                        <div class="option-title">üö¥‚Äç‚ôÄÔ∏è Easy & Short (under 2 hours)</div>
                        <div class="option-desc">Light fuel, focus on hydration</div>
                    </div>
                    <div class="option" data-value="moderate">
                        <div class="option-title">‚≠ê Moderate (2-4 hours, mixed intensity)</div>
                        <div class="option-desc">Steady energy needs</div>
                    </div>
                    <div class="option" data-value="long-hard">
                        <div class="option-title">üí™ Long & Hard (4+ hours or race pace)</div>
                        <div class="option-desc">Maximum fuel for performance</div>
                    </div>
                    <div class="option" data-value="golf">
                        <div class="option-title">‚õ≥ Golf (18 holes, 4-5 hours)</div>
                        <div class="option-desc">Sustained mental energy, avoid sugar crashes</div>
                    </div>
                    <div class="option" data-value="early-morning">
                        <div class="option-title">üåÖ Early Morning Start</div>
                        <div class="option-desc">Gentle on an empty stomach</div>
                    </div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-back" onclick="prevQuestion()">‚Üê Back</button>
                    <button class="btn btn-next" onclick="nextQuestion()" disabled>Next ‚Üí</button>
                </div>
            </div>
            
            <!-- Question 3: Gut Sensitivity -->
            <div class="question-section" id="question-3">
                <div class="question">How's your stomach with sports nutrition?</div>
                <div class="options">
                    <div class="option" data-value="normal">
                        <div class="option-title">üü¢ Iron Gut</div>
                        <div class="option-desc">Can handle full-strength mixes without issues</div>
                    </div>
                    <div class="option" data-value="sensitive">
                        <div class="option-title">üü° Somewhat Sensitive</div>
                        <div class="option-desc">Sometimes get stomach upset with strong drinks</div>
                    </div>
                    <div class="option" data-value="very-sensitive">
                        <div class="option-title">üî¥ Very Sensitive</div>
                        <div class="option-desc">Need to be careful with concentration</div>
                    </div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-back" onclick="prevQuestion()">‚Üê Back</button>
                    <button class="btn btn-next" onclick="generateRecipe()">Get My Recipe ‚Üí</button>
                </div>
            </div>
            
            <!-- Results -->
            <div class="question-section" id="results">
                <div id="recipe-output">
                    <!-- Recipe will be generated here -->
                </div>
                <div class="start-over">
                    <button class="btn-start-over" onclick="startOver()">üîÑ Try Different Conditions</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentQuestion = 1;
        let answers = {};
        
        // Base recipe in scoops
        const baseRecipe = {
            yellow: 2,    // Maltodextrin
            blue: 4,      // Sugar
            green: 1,     // Sodium Citrate
            purple: 1,    // MCT Powder
            orange: 1     // Flavoring
        };
        
        // Recipe adjustments based on answers (now in scoop modifications)
        const adjustments = {
            // Weather adjustments
            hot: { 
                yellow: -1, 
                blue: -1, 
                green: +1, 
                purple: 0,
                orange: 0,
                note: "Less sweetness, extra electrolytes for hot weather"
            },
            moderate: { 
                yellow: 0, 
                blue: 0, 
                green: 0, 
                purple: 0,
                orange: 0,
                note: "Perfect base recipe for moderate conditions"
            },
            cool: { 
                yellow: +1, 
                blue: +1, 
                green: 0, 
                purple: 0,
                orange: 0,
                note: "Higher energy - your gut can handle more in cool weather"
            },
            
            // Duration/Intensity adjustments
            'easy-short': { 
                modifier: { yellow: -1, blue: -1, green: 0, purple: 0, orange: 0 },
                note: "Light fuel for easy efforts"
            },
            'long-hard': { 
                modifier: { yellow: +1, blue: +1, green: 0, purple: +1, orange: 0 },
                note: "Maximum fuel for sustained performance"
            },
            'golf': { 
                modifier: { yellow: 0, blue: -1, green: 0, purple: +2, orange: 0 },
                note: "Extra MCT for sustained mental energy, less sugar to avoid crashes"
            },
            'early-morning': { 
                modifier: { yellow: -1, blue: -1, green: 0, purple: 0, orange: 0 },
                note: "Gentle start for empty stomach"
            },
            
            // Gut sensitivity adjustments  
            'very-sensitive': { 
                modifier: { yellow: -1, blue: -1, green: 0, purple: -1, orange: 0 },
                note: "Reduced concentration for sensitive stomachs"
            },
            'sensitive': { 
                modifier: { yellow: 0, blue: -1, green: 0, purple: 0, orange: 0 },
                note: "Slightly reduced sweetness for better tolerance"
            }
        };
        
        function selectOption(element, questionNum) {
            // Remove selection from other options in this question
            const questionDiv = document.getElementById(`question-${questionNum}`);
            questionDiv.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Select this option
            element.classList.add('selected');
            
            // Store answer
            const value = element.getAttribute('data-value');
            answers[`question${questionNum}`] = value;
            
            // Enable next button
            questionDiv.querySelector('.btn-next').disabled = false;
        }
        
        function nextQuestion() {
            document.getElementById(`question-${currentQuestion}`).classList.remove('active');
            currentQuestion++;
            document.getElementById(`question-${currentQuestion}`).classList.add('active');
            updateProgress();
        }
        
        function prevQuestion() {
            document.getElementById(`question-${currentQuestion}`).classList.remove('active');
            currentQuestion--;
            document.getElementById(`question-${currentQuestion}`).classList.add('active');
            updateProgress();
        }
        
        function updateProgress() {
            const progress = ((currentQuestion - 1) / 3) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
        }
        
        function generateRecipe() {
            const weather = answers.question1;
            const intensity = answers.question2;
            const gut = answers.question3;
            
            // Start with base recipe
            let recipe = { ...baseRecipe };
            let notes = [];
            
            // Apply weather adjustments
            const weatherAdj = adjustments[weather];
            Object.keys(recipe).forEach(scoop => {
                if (weatherAdj[scoop] !== undefined) {
                    recipe[scoop] += weatherAdj[scoop];
                }
            });
            notes.push(weatherAdj.note);
            
            // Apply intensity adjustments
            if (adjustments[intensity] && adjustments[intensity].modifier) {
                const intensityAdj = adjustments[intensity].modifier;
                Object.keys(recipe).forEach(scoop => {
                    if (intensityAdj[scoop] !== undefined) {
                        recipe[scoop] += intensityAdj[scoop];
                    }
                });
                notes.push(adjustments[intensity].note);
            }
            
            // Apply gut sensitivity adjustments
            if (adjustments[gut] && adjustments[gut].modifier) {
                const gutAdj = adjustments[gut].modifier;
                Object.keys(recipe).forEach(scoop => {
                    if (gutAdj[scoop] !== undefined) {
                        recipe[scoop] += gutAdj[scoop];
                    }
                });
                notes.push(adjustments[gut].note);
            }
            
            // Ensure minimum values (can't have negative scoops)
            Object.keys(recipe).forEach(scoop => {
                recipe[scoop] = Math.max(0, recipe[scoop]);
            });
            
            // Calculate approximate totals
            const totalScoops = Object.values(recipe).reduce((sum, count) => sum + count, 0);
            const estimatedCalories = Math.round((recipe.yellow * 60) + (recipe.blue * 48) + (recipe.purple * 35));
            
            displayRecipe(recipe, notes, totalScoops, estimatedCalories);
            
            // Show results
            document.getElementById('question-3').classList.remove('active');
            document.getElementById('results').classList.add('active');
            document.getElementById('progress-fill').style.width = '100%';
        }
        
        function displayRecipe(recipe, notes, totalScoops, estimatedCalories) {
            const scoopLabels = {
                yellow: 'Maltodextrin',
                blue: 'Sugar', 
                green: 'Sodium Citrate',
                purple: 'MCT Powder',
                orange: 'Flavoring'
            };
            
            const scoopEmojis = {
                yellow: 'Y',
                blue: 'B',
                green: 'G', 
                purple: 'P',
                orange: 'O'
            };
            
            const recipeHtml = `
                <div class="recipe-result">
                    <div class="recipe-title">Your Custom Recipe (500ml bottle)</div>
                    
                    <div class="scoop-combo-large">
                        ${Object.entries(recipe).map(([color, count]) => `
                            <div class="scoop-group-large">
                                <div class="scoop-count-large">${count}</div>
                                <div class="scoop-icon-large ${color}">${scoopEmojis[color]}</div>
                                <div class="scoop-label">${scoopLabels[color]}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="recipe-stats">
                        <strong>~${estimatedCalories} calories ‚Ä¢ ${totalScoops} total scoops</strong>
                    </div>
                    
                    <div class="recipe-instructions">
                        <h4>How to mix:</h4>
                        <ol>
                            <li>Add 500ml (16oz) water to your bottle</li>
                            <li>Add the scoops shown above in any order</li>
                            <li>Shake vigorously for 30 seconds</li>
                            <li>Taste and adjust future mixes as needed</li>
                        </ol>
                    </div>
                    
                    <div class="recipe-notes">
                        <h4>üìù Why this combination:</h4>
                        ${notes.map(note => `<p>‚Ä¢ ${note}</p>`).join('')}
                        <p>‚Ä¢ Test this recipe during training before using in an event</p>
                        <p>‚Ä¢ Adjust one scoop at a time based on your experience</p>
                    </div>
                </div>
            `;
            
            document.getElementById('recipe-output').innerHTML = recipeHtml;
        }
        
        function startOver() {
            currentQuestion = 1;
            answers = {};
            
            // Reset all sections
            document.querySelectorAll('.question-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Reset selections
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Reset buttons
            document.querySelectorAll('.btn-next').forEach(btn => {
                btn.disabled = true;
            });
            
            // Show first question
            document.getElementById('question-1').classList.add('active');
            updateProgress();
        }
        
        // Add click handlers to options
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const questionNum = this.closest('.question-section').id.split('-')[1];
                    selectOption(this, questionNum);
                });
            });
        });
    </script>
</body>
</html>